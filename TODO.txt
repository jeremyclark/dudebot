Split up messages because
   Error: IM messages cannot be longer than 2544 characters
Support joining multiple chat rooms
Refactor common code
Add error message to oscar.js when sending a message over allowed limit
